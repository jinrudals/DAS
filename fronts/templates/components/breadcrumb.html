{% comment %}
Breadcrumb Navigation Component
Modern breadcrumb navigation with design system integration

Parameters:
- breadcrumb_items: List of breadcrumb items with 'name', 'url', and optional 'active'
- show_home: Boolean to show home link (default: true)
- css_classes: Additional CSS classes (default: "")

Example usage:
{% with breadcrumb_items=breadcrumb_items show_home=True %}
  {% include 'components/breadcrumb.html' %}
{% endwith %}
{% endcomment %}

{% with show_home=show_home|default:True %}
{% with css_classes=css_classes|default:"" %}

<nav aria-label="Breadcrumb navigation" class="das-breadcrumb {{ css_classes }}">
  <ol class="breadcrumb das-breadcrumb__list" role="list">
    
    {% if show_home %}
      <li class="breadcrumb-item das-breadcrumb__item" role="listitem">
        <a href="/" 
           class="das-breadcrumb__link"
           aria-label="Go to homepage">
          <i class="bi bi-house-fill me-1" aria-hidden="true"></i>
          Dashboard
        </a>
      </li>
    {% endif %}
    
    {% for item in breadcrumb_items %}
      <li class="breadcrumb-item das-breadcrumb__item{% if item.active %} active{% endif %}" 
          role="listitem"
          {% if item.active %}aria-current="page"{% endif %}>
        {% if item.active %}
          <span class="das-breadcrumb__current">
            {% if item.icon %}
              <i class="bi bi-{{ item.icon }} me-1" aria-hidden="true"></i>
            {% endif %}
            {{ item.name }}
          </span>
        {% else %}
          <a href="{{ item.url }}" 
             class="das-breadcrumb__link"
             {% if item.description %}aria-label="{{ item.description }}"{% endif %}>
            {% if item.icon %}
              <i class="bi bi-{{ item.icon }} me-1" aria-hidden="true"></i>
            {% endif %}
            {{ item.name }}
          </a>
        {% endif %}
      </li>
    {% endfor %}
    
  </ol>
</nav>

{% endwith %}
{% endwith %}